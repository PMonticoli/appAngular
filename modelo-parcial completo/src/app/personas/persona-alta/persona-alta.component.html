<form [formGroup]="formulario">
    <div class="mb-3">
        <label for="inputNombre" class="form-label">Nombre</label>
        <input type="text" class="form-control" id="inputNombre" formControlName="nombre"
        [class.invalido]="controlNombre.touched&&controlNombre.hasError('required') && controlNombre.hasError('nameAlReadyExists')"
        >
        <div *ngIf="controlNombre.touched && controlNombre.hasError('required')">
            Nombre es requerido
        </div>
        <div *ngIf="controlNombre.touched && controlNombre.hasError('nameAlReadyExists')">
            Nombre ya existe
        </div>
    </div>
    <div class="mb-3">
        <label for="inputApellisdo" class="form-label">Apellido</label>
        <input type="text" class="form-control" id="inputApellido" formControlName="apellido">
        <div *ngIf="controlApellido.touched && controlApellido.hasError('required')">
            Apellido es requerido
        </div>
    </div>
    <div class="mb-3">
        <label for="inputEdad" class="form-label">Edad</label>
        <input type="number" class="form-control" id="inputEdad" formControlName="edad">
    </div>
    <div class="mb-3">
        <label for="inputPrecio" class="form-label">Precio</label>
        <input type="number" class="form-control" id="inputPrecio" formControlName="precio"
        [class.invalido]="controlPrecio.touched&&controlPrecio.hasError('required')">
        <div *ngIf="controlPrecio.touched && controlPrecio.hasError('required')">
            Precio es requerido
        </div>
    </div>

    <div class="mb-3">
        <label for="inputFecha" class="form-label">Fecha</label>
        <input type="date" class="form-control" id="inputFecha" formControlName="fecha"
        [class.invalido]="controlFecha.touched&&controlFecha.hasError('required')"
        >
        <div *ngIf="controlFecha.touched && controlFecha.hasError('required') && controlFecha.hasError('fechaExiste')">
            Fecha es requerido
        </div>
        <div *ngIf="controlFecha.touched && controlFecha.hasError('fechaExiste')">
            Existen mas de personas que cargaron esa fecha
        </div>
    </div>
    <div class="mb-3">
      <label for="selectPais" class="form-label">Pais</label>
      <select id="selectPais" class="form-select" formControlName="paisId"
      [class.invalido]="controlPais.touched&&controlPais.hasError('required')">
        <option *ngFor="let pais of paises" [value]="pais.id">{{ pais.nombre }}</option>
      </select>
      <div *ngIf="controlFecha.touched && controlFecha.hasError('required')">
        Pais es requerido
    </div>
    </div>

    <div class="mb-3">
        <label for="selectCiudad" class="form-label">Ciudad</label>
        <select id="selectCiudad" class="form-select" formControlName="ciudadId">
          <option *ngFor="let ciud of ciudades" [value]="ciud.id">
            {{ ciud.nombre }}
        </option>
        </select>
      </div>
    <button type="submit" class="btn btn-primary" (click)="guardar()">Guardar</button>
    <button type="button" class="btn btn-secondary" (click)="cancelar()">Cancelar</button>
</form>
